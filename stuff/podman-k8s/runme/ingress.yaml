---
kind: HTTPProxy
apiVersion: projectcontour.io/v1
metadata:
  name: httpbin1
  namespace: httpbin1
spec:
  routes:
    - services:
        - name: httpbin1
          port: 80
---
kind: HTTPProxy
apiVersion: projectcontour.io/v1
metadata:
  name: httpbin2
  namespace: httpbin2
spec:
  routes:
    - services:
        - name: httpbin2
          port: 80
---
kind: HTTPProxy
apiVersion: projectcontour.io/v1
metadata:
  name: main
spec:
  virtualhost:
    fqdn: myapps
  includes:
    - name: httpbin1
      namespace: httpbin1
      conditions:
        - prefix: /httpbin1
    - name: httpbin2
      namespace: httpbin2
      conditions:
        - prefix: /httpbin2